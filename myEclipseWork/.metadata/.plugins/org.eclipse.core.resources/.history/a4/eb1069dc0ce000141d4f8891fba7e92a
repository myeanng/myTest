function SetCookie(n,t){var i=new Date;i.setTime(i.getTime()+2592e6);document.cookie=n+"="+encodeURIComponent(t)+";domain=.ppdai.com;expires="+i.toGMTString()+";path=/"}function getCookie(n){var t=document.cookie.match(new RegExp("(^| )"+n+"=([^;]*)(;|$)")),i;return t!=null?(i=unescape(t[2]),i!=undefined&&i.length>0)?unescape(t[2]):null:null}function delCookie(n){var t=new Date,i;t.setTime(t.getTime()-1);i=getCookie(n);i!=null&&(document.cookie=n+"="+i+";expires="+t.toGMTString())}function getRefer(n,t){var r=0,i=0;return t.indexOf("http://www.baidu")!=-1&&(n=="http://www.ppdai.com/default.htm"||n=="http://www.ppdai.com/default.htm")?i=2:t.indexOf("http://www.google")!=-1&&(n=="http://www.ppdai.com/default.htm"||n=="http://www.ppdai.com/default.htm")?i=1:(t.indexOf("http://www.sogou")!=-1||t.indexOf("http://so")!=-1)&&(n=="http://www.ppdai.com/default.htm"||n=="http://www.ppdai.com/default.htm")?i=4:n.indexOf("jifenbao.html")!=-1?(r=176435,i=21):t.indexOf("bidalipay.aspx")!=-1?(r=176435,i=21):n.indexOf("jfbsgsha.aspx")!=-1?(r=176435,i=21):n.indexOf("regsourceid=42")!=-1?i=42:n.indexOf("regsourceid=41")!=-1?i=41:n.indexOf("regsourceid=45")!=-1?i=45:n.indexOf("regsourceid=46")!=-1?i=46:r!=0&&r!=179353?i=31:n.indexOf("landing14.html")!=-1&&(i=37),{ReferID:r,RegSourceId:i}}function isFromLandingPage(n,t){for(var r=!1,i=0;i<t.length;i++)if(n.indexOf(t[i])!=-1){r=!0;break}return r}function init(){var n=document.referrer.toLowerCase(),t=window.location.href.toLowerCase(),i=getRefer(t,n),r=(new Date).format();(getCookie("regSourceId")==null||getCookie("referID")==null||getCookie("referDate")==null||getCookie("currentUrl")==null)&&(SetCookie("regSourceId",i.RegSourceId),SetCookie("referID",i.ReferID),SetCookie("fromUrl",n),SetCookie("referDate",r),SetCookie("currentUrl",t));t.indexOf("remarketing")>-1&&(SetCookie("regSourceId",i.RegSourceId),SetCookie("referID",i.ReferID),SetCookie("fromUrl",n),SetCookie("referDate",r),SetCookie("currentUrl",t));n.length>0&&n.indexOf("ppdai.com")<0&&(SetCookie("registerurl",t),SetCookie("registersourceurl",n))}Date.prototype.format=function(){var n=new Date,t=n.getFullYear(),i=n.getMonth()+1,r=n.getDate(),u=n.getHours(),f=n.getMinutes(),e=n.getSeconds();return t+"-"+i+"-"+r+" "+u+":"+f+":"+e};init()